<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="shortcut icon"
      href="https://www.quinfall.com/quinfall/assets/img/website-images/favicon.png"
    />
    <link
      rel="apple-touch-icon"
      href="https://www.quinfall.com/quinfall/assets/img/website-images/favicon.png"
    />
    <link rel="manifest" href="/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#f59e0b" />
    <title>Quinfall GM Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
      {
        "imports": {
          "react": "https://aistudiocdn.com/react@^19.1.1",
          "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
          "react/": "https://aistudiocdn.com/react@^19.1.1/"
        }
      }
    </script>
    <style>
      body {
        font-family: Arial, sans-serif;
      }

      .font-calibri {
        font-family: Calibri, "Segoe UI", Candara, "Bitstream Vera Sans",
          "DejaVu Sans", "Trebuchet MS", Verdana, "Verdana Ref", sans-serif;
      }

      .cloud {
        position: absolute;
        border-radius: 50%;
        filter: blur(40px);
        mix-blend-mode: screen;
      }

      .cloud-1 {
        width: 200px;
        height: 200px;
        top: -100px;
        left: -80px;
        animation: animateCloud 20s infinite alternate ease-in-out;
      }

      .cloud-2 {
        width: 250px;
        height: 250px;
        bottom: -150px;
        right: -100px;
        animation: animateCloud2 25s infinite alternate ease-in-out;
      }

      @keyframes animateCloud {
        0% {
          transform: translate(-10%, 10%) scale(1);
          opacity: 0.6;
        }
        100% {
          transform: translate(10%, -10%) scale(1.2);
          opacity: 0.8;
        }
      }

      @keyframes animateCloud2 {
        0% {
          transform: translate(10%, -10%) scale(1);
          opacity: 0.7;
        }
        100% {
          transform: translate(-10%, 10%) scale(0.8);
          opacity: 0.5;
        }
      }

      .item-icon-container {
        position: relative;
        overflow: hidden;
      }

      .item-icon-container::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 150%;
        height: 150%;
        background-image: radial-gradient(
          circle,
          var(--glow-color-inner, rgba(255, 165, 0, 0.5)) 0%,
          var(--glow-color-outer, rgba(255, 69, 0, 0.3)) 40%,
          transparent 70%
        );
        animation: flame-pulse 10s infinite linear;
        z-index: 0;
      }

      .item-icon-container > * {
        position: relative; /* Ensure content is above the pseudo-element */
        z-index: 1;
      }

      @keyframes flame-pulse {
        0% {
          transform: translate(-50%, -50%) scale(0.95) rotate(0deg);
          opacity: 0.7;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.05) rotate(180deg);
          opacity: 1;
        }
        100% {
          transform: translate(-50%, -50%) scale(0.95) rotate(360deg);
          opacity: 0.7;
        }
      }

      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translateY(10px);
        }
        10% {
          opacity: 1;
          transform: translateY(0);
        }
        90% {
          opacity: 1;
          transform: translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateY(10px);
        }
      }

      .animate-fade-in-out {
        animation: fadeInOut 2.5s ease-in-out forwards;
      }

      /* Sparkle effect for item card header */
      .sparkle-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        pointer-events: none;
      }

      .sparkle {
        position: absolute;
        width: 3px;
        height: 3px;
        background-color: white;
        border-radius: 50%;
        box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #f0e68c;
        animation: sparkle-anim 2.5s infinite ease-in-out;
        opacity: 0;
      }

      @keyframes sparkle-anim {
        0%,
        100% {
          opacity: 0;
          transform: scale(0.5) translateY(0);
        }
        50% {
          opacity: 1;
          transform: scale(1.2) translateY(-8px);
        }
      }

      .sparkle:nth-child(1) {
        top: 20%;
        left: 10%;
        animation-delay: 0s;
      }
      .sparkle:nth-child(2) {
        top: 40%;
        left: 80%;
        animation-delay: 0.3s;
        animation-duration: 3s;
      }
      .sparkle:nth-child(3) {
        top: 80%;
        left: 25%;
        animation-delay: 0.6s;
      }
      .sparkle:nth-child(4) {
        top: 10%;
        left: 90%;
        animation-delay: 0.9s;
        animation-duration: 2.7s;
      }
      .sparkle:nth-child(5) {
        top: 60%;
        left: 5%;
        animation-delay: 1.2s;
      }
      .sparkle:nth-child(6) {
        top: 90%;
        left: 70%;
        animation-delay: 1.5s;
        animation-duration: 3.2s;
      }
      .sparkle:nth-child(7) {
        top: 5%;
        left: 40%;
        animation-delay: 1.8s;
      }
      .sparkle:nth-child(8) {
        top: 50%;
        left: 50%;
        animation-delay: 2.1s;
        animation-duration: 2.2s;
      }

      /* More Metallic & Medieval Border Styles */
      .corner-filigree {
        position: absolute;
        width: 48px;
        height: 48px;
        pointer-events: none;
        z-index: 10;
      }
      .corner-filigree::before,
      .corner-filigree::after {
        content: "";
        position: absolute;
        border-style: solid;
        border-color: transparent;
        border-image-slice: 1;
      }

      /* Main chiseled metal shape */
      .corner-filigree::before {
        top: 4px;
        left: 4px;
        width: 36px;
        height: 36px;
        border-width: 0;
        border-top-width: 6px;
        border-left-width: 6px;
        border-image-source: linear-gradient(135deg, #7a5e3f, #d4b88f, #7a5e3f);
        box-shadow: -1px -1px 4px rgba(0, 0, 0, 0.5);
      }

      /* Inner highlight detail */
      .corner-filigree::after {
        top: 9px;
        left: 9px;
        width: 22px;
        height: 22px;
        border-width: 0;
        border-top-width: 2px;
        border-left-width: 2px;
        border-image-source: linear-gradient(135deg, #e0c090, #fff, #e0c090);
        opacity: 0.8;
      }

      /* Jupi Easter Egg */
      @keyframes jupi-delete {
        from {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
        to {
          opacity: 0;
          transform: scale(0) rotate(360deg);
          visibility: hidden;
        }
      }

      .jupi-active > * {
        animation-name: jupi-delete;
        animation-duration: 0.5s;
        animation-fill-mode: forwards;
        animation-timing-function: cubic-bezier(0.68, -0.55, 0.27, 1.55);
      }

      .jupi-active > *:nth-child(1) {
        animation-delay: 0s;
      }
      .jupi-active > *:nth-child(2) {
        animation-delay: 0.1s;
      }
      .jupi-active > *:nth-child(3) {
        animation-delay: 0.2s;
      }
      .jupi-active > *:nth-child(4) {
        animation-delay: 0.3s;
      }
      .jupi-active > *:nth-child(5) {
        animation-delay: 0.4s;
      }

      /* Password prompt shake animation */
      @keyframes shake {
        10%,
        90% {
          transform: translate3d(-1px, 0, 0);
        }
        20%,
        80% {
          transform: translate3d(2px, 0, 0);
        }
        30%,
        50%,
        70% {
          transform: translate3d(-4px, 0, 0);
        }
        40%,
        60% {
          transform: translate3d(4px, 0, 0);
        }
      }

      .animate-shake {
        animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
      }

      /* Player Marker Pulse Animation */
      @keyframes pulse-marker {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.6);
          opacity: 0.7;
        }
      }
      .animate-pulse-marker {
        animation: pulse-marker 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        transform-origin: center;
      }
    </style>
    <link rel="stylesheet" href="/index.css" />
  </head>
  <body class="bg-gray-900">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("/service-worker.js").then(
            (registration) => {
              console.log(
                "ServiceWorker registration successful with scope: ",
                registration.scope
              );
            },
            (err) => {
              console.log("ServiceWorker registration failed: ", err);
            }
          );
        });
      }
    </script>
  </body>
</html>
